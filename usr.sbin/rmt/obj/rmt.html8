<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$NetBSD: rmt.8,v 1.14 2009/03/11 18:23:38 joerg Exp $
  
   Copyright (c) 1983, 1991, 1993
  	The Regents of the University of California.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
       @(#)rmt.8	8.3 (Berkeley) 6/1/94
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>RMT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RMT(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">RMT(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">rmt</code> &#x2014;
<div class="Nd">remote magtape protocol module</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">rmt</code></td>
    <td></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">rmt</code> is a program used by the remote dump and restore
  programs in manipulating a magnetic tape drive through an interprocess
  communication connection. <code class="Nm">rmt</code> is normally started up
  with an <a class="Xr" href="../html3/rexec.html">rexec(3)</a> or
  <a class="Xr" href="../html3/rcmd.html">rcmd(3)</a> call.
<p class="Pp">The <code class="Nm">rmt</code> program accepts requests specific
    to the manipulation of magnetic tapes, performs the commands, then responds
    with a status indication. All responses are in ASCII and in one of two
    forms. Successful commands have responses of:</p>
<div class="Bd Pp
  Bd-indent"><b class="Sy">A</b><var class="Ar">number</var><span class="No">\n</span></div>
<p class="Pp"><var class="Ar">Number</var> is an ASCII representation of a
    decimal number. Unsuccessful commands are responded to with:</p>
<div class="Bd Pp
  Bd-indent"><b class="Sy">E</b><var class="Ar">error-number</var>
  <span class="No">\n</span><var class="Ar">error-message</var><span class="No">\n</span></div>
<p class="Pp"><var class="Ar">Error-number</var> is one of the possible error
    numbers described in <a class="Xr" href="../html2/intro.html">intro(2)</a>
    and <var class="Ar">error-message</var> is the corresponding error string as
    printed from a call to
    <a class="Xr" href="../html3/perror.html">perror(3)</a>. The protocol
    comprises the following commands, which are sent as indicated - no spaces
    are supplied between the command and its arguments, or between its
    arguments, and &#x2018;<code class="Li">\n</code>&#x2019; indicates that a
    newline should be supplied:</p>
<dl class="Bl-tag">
  <dt><b class="Sy">O</b><var class="Ar">device</var>\n<var class="Ar">mode</var>\n</dt>
  <dd>Open the specified <var class="Ar">device</var> using the indicated
      <var class="Ar">mode</var>. <var class="Ar">Device</var> is a full
      pathname and <var class="Ar">mode</var> is an ASCII representation of a
      decimal number suitable for passing to
      <a class="Xr" href="../html2/open.html">open(2)</a>. If a device had
      already been opened, it is closed before a new open is performed.</dd>
  <dt><b class="Sy">C</b><var class="Ar">device</var>\n</dt>
  <dd>Close the currently open device. The <var class="Ar">device</var>
      specified is ignored.</dd>
  <dt><b class="Sy">L</b><var class="Ar">offset</var>\n<var class="Ar">whence</var>\n</dt>
  <dd>Perform an <a class="Xr" href="../html2/lseek.html">lseek(2)</a> operation
      using the specified parameters. The response value is that returned from
      the <a class="Xr" href="../html2/lseek.html">lseek(2)</a> call.</dd>
  <dt><b class="Sy">W</b><var class="Ar">count</var><span class="No">\n</span></dt>
  <dd> Write data onto the open device. <code class="Nm">rmt</code> reads
      <var class="Ar">count</var> bytes from the connection, aborting if a
      premature end-of-file is encountered. The response value is that returned
      from the <a class="Xr" href="../html2/write.html">write(2)</a> call.</dd>
  <dt><b class="Sy">R</b><var class="Ar">count</var><span class="No">\n</span></dt>
  <dd> Read <var class="Ar">count</var> bytes of data from the open device. If
      <var class="Ar">count</var> exceeds the size of the data buffer (10
      kilobytes), it is truncated to the data buffer size.
      <code class="Nm">rmt</code> then performs the requested
      <a class="Xr" href="../html2/read.html">read(2)</a> and responds with
      <b class="Sy">A</b><var class="Ar">count-read</var><span class="No">\n</span>
      if the read was successful; otherwise an error in the standard format is
      returned. If the read was successful, the data read is then sent.</dd>
  <dt><b class="Sy">I</b><var class="Ar">operation</var>\n<var class="Ar">count</var>\n</dt>
  <dd> Perform a <code class="Dv">MTIOCOP</code>
      <a class="Xr" href="../html2/ioctl.html">ioctl(2)</a> command using the
      specified parameters. The parameters are interpreted as the ASCII
      representations of the decimal values to place in the
      <var class="Ar">mt_op</var> and <var class="Ar">mt_count</var> fields of
      the structure used in the
      <a class="Xr" href="../html2/ioctl.html">ioctl(2)</a> call. The return
      value is the <var class="Ar">count</var> parameter when the operation is
      successful.</dd>
  <dt><b class="Sy">S</b></dt>
  <dd>Return the status of the open device, as obtained with a
      <code class="Dv">MTIOCGET</code>
      <a class="Xr" href="../html2/ioctl.html">ioctl(2)</a> call. If the
      operation was successful, an ``ack'' is sent with the size of the status
      buffer, then the status buffer is sent (in binary).</dd>
</dl>
<p class="Pp">Any other command causes <code class="Nm">rmt</code> to exit.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
All responses are of the form described above.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" href="../html3/rcmd.html">rcmd(3)</a>,
  <a class="Xr" href="../html3/rexec.html">rexec(3)</a>,
  <a class="Xr" href="../html4/mtio.html">mtio(4)</a>,
  <a class="Xr" href="../html8/rdump.html">rdump(8)</a>,
  <a class="Xr" href="../html8/rrestore.html">rrestore(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">rmt</code> command appeared in
  <span class="Ux">4.2BSD</span>.
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
People should be discouraged from using this for a remote file access protocol.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 1, 1994</td>
    <td class="foot-os">NetBSD 10.99</td>
  </tr>
</table>
</body>
</html>
