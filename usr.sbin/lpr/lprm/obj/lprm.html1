<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$NetBSD: lprm.1,v 1.17 2012/04/08 22:00:40 wiz Exp $
  
   Copyright (c) 1983, 1990, 1993
  	The Regents of the University of California.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
       @(#)lprm.1	8.1 (Berkeley) 6/6/93
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>LPRM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LPRM(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">LPRM(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">lprm</code> &#x2014;
<div class="Nd">remove jobs from the line printer spooling queue</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">lprm</code></td>
    <td>[<code class="Fl">-</code>] [<code class="Fl">-P</code>
      <var class="Ar">printer</var>] [<code class="Fl">-w</code>
      <var class="Ar">maxwait</var>] [<var class="Ar">job# ...</var>]
      [<var class="Ar">user ...</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">lprm</code> will remove a job, or jobs, from a printer's spool
  queue. Since the spooling directory is protected from users, using
  <code class="Nm">lprm</code> is normally the only method by which a user may
  remove a job. The owner of a job is determined by the user's login name and
  host name on the machine where the
  <a class="Xr" href="../html1/lpr.html">lpr(1)</a> command was invoked.
<p class="Pp">Options and arguments:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#P"><code class="Fl" id="P">-P</code></a><var class="Ar">printer</var></dt>
  <dd>Specify the queue associated with a specific <var class="Ar">printer</var>
      (otherwise the default printer is used).</dd>
  <dt><a class="permalink" href="#w"><code class="Fl" id="w">-w</code></a>
    <var class="Ar">maxwait</var></dt>
  <dd>Specify the maximum time to wait in seconds for remote responses. The
      default is 300 seconds or 5 minutes.</dd>
  <dt><code class="Fl">-</code></dt>
  <dd>If a single &#x2018;<code class="Fl">-</code>&#x2019; is given,
      <code class="Nm">lprm</code> will remove all jobs which a user owns. If
      the super-user employs this flag, the spool queue will be emptied
      entirely.</dd>
  <dt><var class="Ar">user</var></dt>
  <dd>Causes <code class="Nm">lprm</code> to attempt to remove any jobs queued
      belonging to that user (or users). This form of invoking
      <code class="Nm">lprm</code> is useful only to the super-user.</dd>
  <dt><var class="Ar">job&#x00A0;#</var></dt>
  <dd>A user may dequeue an individual job by specifying its job number. This
      number may be obtained from the
      <a class="Xr" href="../html1/lpq.html">lpq(1)</a> program, e.g.
    <div class="Bd Pp Bd-indent">
    <pre>
% lpq -l

1st:ken				[job #013ucbarpa]
	(standard input)	100 bytes
% lprm 13
    </pre>
    </div>
  </dd>
</dl>
<p class="Pp">If neither arguments or options are given,
    <code class="Nm">lprm</code> will delete the currently active job if it is
    owned by the user who invoked <code class="Nm">lprm</code>.</p>
<p class="Pp"><code class="Nm">lprm</code> announces the names of any files it
    removes and is silent if there are no jobs in the queue which match the
    request list.</p>
<p class="Pp"><code class="Nm">lprm</code> will kill off an active daemon, if
    necessary, before removing any spooling files. If a daemon is killed, a new
    one is automatically restarted upon completion of file removals.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
If the following environment variable exists, it is used by
  <code class="Nm">lprm</code>.
<dl class="Bl-tag">
  <dt><a class="permalink" href="#PRINTER"><code class="Ev" id="PRINTER">PRINTER</code></a></dt>
  <dd>If the environment variable <code class="Ev">PRINTER</code> exists, and a
      printer has not been specified with the <code class="Fl">-P</code> option,
      the default printer is assumed from <code class="Ev">PRINTER</code>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt><span class="Pa">/etc/printcap</span></dt>
  <dd>Printer characteristics file.</dd>
  <dt><span class="Pa">/var/spool/output/*</span></dt>
  <dd>Spooling directories.</dd>
  <dt><span class="Pa">/var/spool/output/*/lock</span></dt>
  <dd>Lock file used to obtain the pid of the current daemon and the job number
      of the currently active job.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
&#x201C;Permission denied&#x201D; if the user tries to remove files other than
  his own.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" href="../html1/lpq.html">lpq(1)</a>,
  <a class="Xr" href="../html1/lpr.html">lpr(1)</a>,
  <a class="Xr" href="../html8/lpd.html">lpd(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">lprm</code> command appeared in
  <span class="Ux">3.0BSD</span>.
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
Since there are race conditions possible in the update of the lock file, the
  currently active job may be incorrectly identified.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 6, 1993</td>
    <td class="foot-os">NetBSD 10.99</td>
  </tr>
</table>
</body>
</html>
