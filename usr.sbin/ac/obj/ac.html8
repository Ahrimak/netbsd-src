<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   $NetBSD: ac.8,v 1.19 2017/07/03 21:35:29 wiz Exp $
  
   Copyright (c) 1980, 1991, 1993
  	The Regents of the University of California.  All rights reserved.
   Copyright (c) 1994 Simon J. Gerraty
   Copyright (c) 1994 Christopher G. Demetriou
   All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. All advertising materials mentioning features or use of this software
      must display the following acknowledgements:
  	This product includes software developed by the University of
  	California, Berkeley and its contributors.
        This product includes software developed by Christopher G. Demetriou.
   4. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
       @(#)ac.8	8.2 (Berkeley) 4/19/94
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>AC(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">AC(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">AC(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">ac</code> &#x2014;
<div class="Nd">display connect time accounting</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">ac</code></td>
    <td>[<code class="Fl">-d</code> | <code class="Fl">-p</code>]
      [<code class="Fl">-t</code> <var class="Ar">tty</var>]
      [<code class="Fl">-w</code> <var class="Ar">file</var>]
      [<var class="Ar">users ...</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
If the file <span class="Pa">/var/log/wtmp</span> exists, a record of individual
  login and logout times are written to it by
  <a class="Xr" href="../html1/login.html">login(1)</a> and
  <a class="Xr" href="../html8/init.html">init(8)</a>, respectively. The program
  <code class="Nm">ac</code> examines these records and writes the accumulated
  connect time for all logins to the standard output.
<p class="Pp">Options available:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#d"><code class="Fl" id="d">-d</code></a></dt>
  <dd>Display the connect times in 24 hour chunks.</dd>
  <dt><a class="permalink" href="#p"><code class="Fl" id="p">-p</code></a></dt>
  <dd>Display individual user totals.</dd>
  <dt><a class="permalink" href="#t"><code class="Fl" id="t">-t</code></a>
    <var class="Ar">tty</var></dt>
  <dd>Only do accounting logins on certain ttys. The <var class="Ar">tty</var>
      specification can start with &#x2018;<code class="Li">!</code>&#x2019; to
      indicate not this <var class="Ar">tty</var> and end with
      &#x2018;<code class="Li">*</code>&#x2019; to indicate all similarly named
      ttys. Multiple <code class="Fl">-t</code> flags may be specified.</dd>
  <dt><a class="permalink" href="#w"><code class="Fl" id="w">-w</code></a>
    <var class="Ar">file</var></dt>
  <dd>Read raw connect time data from <var class="Ar">file</var> instead of the
      default file <span class="Pa">/var/log/wtmp</span>.</dd>
  <dt><var class="Ar">users ...</var></dt>
  <dd>Display totals for the given individuals only.</dd>
</dl>
<p class="Pp">If no arguments are given, <code class="Nm">ac</code> displays the
    total amount of login time for all active accounts on the system.</p>
<p class="Pp">The default <span class="Pa">wtmp</span> file is an infinitely
    increasing file unless frequently truncated. This is normally done by the
    daily daemon scripts scheduled by
    <a class="Xr" href="../html8/cron.html">cron(8)</a>, which rename and rotate
    the <span class="Pa">wtmp</span> files before truncating them (and keep
    about a week's worth on hand). No login times are collected, however, if the
    file does not exist.</p>
<p class="Pp">For example,</p>
<div class="Bd Pp Bd-indent">
<pre>
ac -p -t &quot;ttyd*&quot; &gt; modems
ac -p -t &quot;!ttyd*&quot; &gt; other
</pre>
</div>
<p class="Pp">allows times recorded in <span class="Pa">modems</span> to be
    charged out at a different rate than <span class="Pa">other</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt><span class="Pa">/var/log/wtmp</span></dt>
  <dd>connect time accounting file</dd>
  <dt><span class="Pa">/var/log/wtmp.[0-7]</span></dt>
  <dd>rotated files</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The <code class="Nm">ac</code> utility exits&#x00A0;0 on success,
  and&#x00A0;&gt;0 if an error occurs.
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" href="../html1/login.html">login(1)</a>,
  <a class="Xr" href="../html5/utmp.html">utmp(5)</a>,
  <a class="Xr" href="../html8/init.html">init(8)</a>,
  <a class="Xr" href="../html8/sa.html">sa(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
An <code class="Nm">ac</code> command appeared in
  <span class="Ux">Version&#x00A0;6 AT&amp;T UNIX</span>. This version of
  <code class="Nm">ac</code> was written for <span class="Ux">NetBSD 1.0</span>
  from the specification provided by various systems' manual pages.
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 19, 1994</td>
    <td class="foot-os">NetBSD 10.99</td>
  </tr>
</table>
</body>
</html>
