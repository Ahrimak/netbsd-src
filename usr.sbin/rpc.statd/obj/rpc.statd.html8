<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$NetBSD: rpc.statd.8,v 1.6 2003/04/07 07:05:21 wiz Exp $
  
   Copyright (c) 1995 A.R.Gordon, andrew.gordon@net-tel.co.uk
   All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. All advertising materials mentioning features or use of this software
      must display the following acknowledgement:
  	This product includes software developed by the University of
  	California, Berkeley and its contributors.
   4. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>RPC.STATD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RPC.STATD(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">RPC.STATD(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">rpc.statd</code> &#x2014;
<div class="Nd">host status monitoring daemon</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">rpc.statd</code></td>
    <td>[<code class="Fl">-d</code>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<code class="Nm">rpc.statd</code> is a daemon which co-operates with rpc.statd
  daemons on other hosts to provide a status monitoring service. The daemon
  accepts requests from programs running on the local host (typically,
  <a class="Xr" href="../html8/rpc.lockd.html">rpc.lockd(8)</a>, the NFS file
  locking daemon) to monitor the status of specified hosts. If a monitored host
  crashes and restarts, the remote daemon will notify the local daemon, which in
  turn will notify the local program(s) which requested the monitoring service.
  Conversely, if this host crashes and restarts, when
  <code class="Nm">rpc.statd</code> restarts, it will notify all of the hosts
  which were being monitored at the time of the crash.
<p class="Pp">Options and operands available for
    <code class="Nm">rpc.statd</code> :</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#d"><code class="Fl" id="d">-d</code></a></dt>
  <dd>The <code class="Fl">-d</code> option causes debugging information to be
      written to syslog, recording all RPC transactions to the daemon. These
      messages are logged with level LOG_DEBUG and facility LOG_DAEMON. Error
      conditions are logged irrespective of this option, using level
    LOG_ERR.</dd>
</dl>
<p class="Pp">The <code class="Nm">rpc.statd</code> daemon must NOT be invoked
    by <a class="Xr" href="../html8/inetd.html">inetd(8)</a> because the
    protocol assumes that the daemon will run from system start time. Instead,
    it should be configured in
    <a class="Xr" href="../html5/rc.conf.html">rc.conf(5)</a> to run at system
    startup.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt><span class="Pa">/var/db/statd.status</span></dt>
  <dd>non-volatile record of currently monitored hosts.</dd>
  <dt><span class="Pa">/usr/include/rpcsvc/sm_inter.x</span></dt>
  <dd>RPC protocol specification used by local applications to register
      monitoring requests.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" href="../html3/syslog.html">syslog(3)</a>,
  <a class="Xr" href="../html5/rc.conf.html">rc.conf(5)</a>,
  <a class="Xr" href="../html8/rpc.lockd.html">rpc.lockd(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
The implementation is based on the specification in X/Open CAE Specification
  C218, &quot;Protocols for X/Open PC Interworking: XNFS, Issue 4&quot;, ISBN 1
  872630 66 9
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
A version of <code class="Nm">rpc.statd</code> appeared in SunOS 4.
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
There is no means for the daemon to tell when a monitored host has disappeared
  permanently (e.g., catastrophic hardware failure), as opposed to transient
  failure of the host or an intermediate router. At present, it will retry
  notification attempts at frequent intervals for 10 minutes, then hourly, and
  finally gives up after 24 hours.
<p class="Pp">The protocol requires that symmetric monitor requests are made to
    both the local and remote daemon in order to establish a monitored
    relationship. This is convenient for the NFS locking protocol, but probably
    reduces the usefulness of the monitoring system for other applications.</p>
<p class="Pp">The current implementation uses more than 1Kbyte per monitored
    host in the status file (and also in VM). This may be inefficient for NFS
    servers with large numbers of clients.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 19, 1995</td>
    <td class="foot-os">NetBSD 10.99</td>
  </tr>
</table>
</body>
</html>
