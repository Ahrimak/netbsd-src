<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$NetBSD: mount_psshfs.8,v 1.27 2014/06/25 23:22:18 szptvlfn Exp $
  
   Copyright (c) 2007-2009 Antti Kantee.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
  
   THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>MOUNT_PSSHFS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MOUNT_PSSHFS(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">MOUNT_PSSHFS(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm">mount_psshfs</code> &#x2014;
<div class="Nd">sshfs implementation for puffs</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">mount_psshfs</code></td>
    <td>[<var class="Ar">options</var>] <var class="Ar">user@host[:path]</var>
      <var class="Ar">mount_point</var></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <code class="Nm">mount_psshfs</code> utility can be used to mount a file
  system using the ssh sftp subprotocol, making a remote directory hierarchy
  appear in the local directory tree. This functionality is commonly known as
  <i class="Em">sshfs</i>.
<p class="Pp">The mandatory parameters are the target host name and local mount
    point. The target host parameter can optionally contain a username whose
    credentials will be used by the remote sshd, and a relative or absolute path
    for the remote mount point's root. If no user is given, the credentials of
    the user issuing the mount command are used. If no path is given, the user's
    home directory on the remote machine will be used.</p>
<p class="Pp">The following command line options are available:</p>
<dl class="Bl-tag">
  <dt><a class="permalink" href="#c"><code class="Fl" id="c">-c</code></a>
    <var class="Ar">nconnect</var></dt>
  <dd>Opens <var class="Ar">nconnect</var> connections to the server. Currently,
      the value has to be 1 or 2. If 2 is specified, a second connection is
      opened for the reading and writing of data, while directory operations are
      performed on their own connection. This can greatly increase directory
      operation performance (ls, mkdir, etc.) if
      <code class="Nm">mount_psshfs</code> completely saturates the available
      bandwidth by doing bulk data copying. The default is 1.</dd>
  <dt><a class="permalink" href="#e"><code class="Fl" id="e">-e</code></a></dt>
  <dd>Makes the mounted file system NFS exportable. If this option is used, it
      is very important to understand that <code class="Nm">mount_psshfs</code>
      can not provide complete support for NFS due to the limitations in the
      backend. Files are valid only for the time that
      <code class="Nm">mount_psshfs</code> is running and in the event of e.g. a
      server crash, all client retries to access files will fail.</dd>
  <dt><a class="permalink" href="#F"><code class="Fl" id="F">-F</code></a>
    <var class="Ar">configfile</var></dt>
  <dd>Pass a configuration file to
      <a class="Xr" href="../html1/ssh.html">ssh(1)</a>. This will make it
      ignore the system-wide <span class="Pa">/etc/ssh/ssh_config</span>
      configuration file and use <span class="Pa">configfile</span> instead of
      <span class="Pa">~/.ssh/config</span>.</dd>
  <dt><a class="permalink" href="#g"><code class="Fl" id="g">-g</code></a>
    <var class="Ar">manglegid</var></dt>
  <dd>Converts remote <var class="Ar">manglegid</var> to the effective gid of
      the file server and vice versa. See <code class="Fl">-u</code>.</dd>
  <dt><a class="permalink" href="#o"><code class="Fl" id="o">-o</code></a>
    <var class="Ar">[no]option</var></dt>
  <dd>This flag can be used to give standard mount options and options to
    puffs.</dd>
  <dt><a class="permalink" href="#O"><code class="Fl" id="O">-O</code></a>
    <var class="Ar">sshopt=value</var></dt>
  <dd>Pass an option to <a class="Xr" href="../html1/ssh.html">ssh(1)</a>, for
      example <code class="Fl">-O</code> <var class="Ar">Port=22</var>. For a
      list of valid options, see
      <a class="Xr" href="../html5/ssh_config.html">ssh_config(5)</a>.</dd>
  <dt><a class="permalink" href="#p"><code class="Fl" id="p">-p</code></a></dt>
  <dd>Preserve connection. This option makes
      <code class="Nm">mount_psshfs</code> to try to reconnect to the server if
      the connection fails. The option is very experimental and does not
      preserve open files or retry current requests and should generally only be
      used if the trade-offs are well understood.</dd>
  <dt><a class="permalink" href="#r"><code class="Fl" id="r">-r</code></a>
    <var class="Ar">max_reads</var></dt>
  <dd>Limits maximum outstanding read requests for each node to
      <var class="Ar">max_reads</var>. This can be used to improve interactive
      performance on low-bandwidth links when also performing bulk data
    reads.</dd>
  <dt><a class="permalink" href="#s"><code class="Fl" id="s">-s</code></a></dt>
  <dd>This flag can be used to make the program stay on top. The default is to
      detach from the terminal and run in the background.</dd>
  <dt><a class="permalink" href="#t"><code class="Fl" id="t">-t</code></a>
    <var class="Ar">timeout</var></dt>
  <dd>By default <code class="Nm">mount_psshfs</code> caches directory contents
      and node attributes for 30 seconds before re-fetching from the server to
      check if anything has changed on the server. This option is used to adjust
      the timeout period to <var class="Ar">timeout</var> seconds. A value of 0
      means the cache is never valid; -1 means it is valid indefinitely. It is
      possible to force a re-read regardless of timeout status by sending
      <code class="Dv">SIGHUP</code> to the <code class="Nm">mount_psshfs</code>
      process.
    <p class="Pp">Note: the file system will still free nodes when requested by
        the kernel and will lose all cached information in doing so. How
        frequently this happens depends on system activity and the total number
        of available vnodes in the system (kern.maxvnodes).</p>
  </dd>
  <dt><a class="permalink" href="#u"><code class="Fl" id="u">-u</code></a>
    <var class="Ar">mangleuid</var></dt>
  <dd>Converts remote <var class="Ar">mangleuid</var> to the effective uid of
      the file server and vice versa. This is a simple special case of the
      functionality of
      <a class="Xr" href="../html8/mount_umap.html">mount_umap(8)</a>. For
      example: you mount remote me@darkmoon as the local user &quot;me&quot;. If
      the uid of &quot;me&quot; on the local system is 101 and on darkmoon it is
      202, you would use <code class="Fl">-u</code> <var class="Ar">202</var> to
      see files owned by 202 on darkmoon as owned by 101 when browsing the mount
      point. Apart from the cosmetic effect, this makes things like &quot;chown
      me file&quot; work. See <code class="Fl">-g</code>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
The following example illustrates how to mount the directory
  <i class="Em">/usr</i> on server <i class="Em">bigiron</i> as user
  <i class="Em">abc</i> on local directory <i class="Em">/mnt</i> with ssh
  transport compression enabled:
<div class="Bd Pp Bd-indent">
<pre>
mount_psshfs -O Compression=yes abc@bigiron:/usr /mnt
</pre>
</div>
<p class="Pp">It is possible to use
    <a class="Xr" href="../html5/fstab.html">fstab(5)</a> for psshfs mounts,
    with SSH public key authentication:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">abc@bigiron:/usr /mnt psshfs
  rw,noauto,-O=BatchMode=yes,-O=IdentityFile=/root/.ssh/id_rsa,-t=-1</code></div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" href="../html1/sftp.html">sftp(1)</a>,
  <a class="Xr" href="../html3/puffs.html">puffs(3)</a>,
  <a class="Xr" href="../html4/puffs.html">puffs(4)</a>,
  <a class="Xr" href="../html5/fstab.html">fstab(5)</a>,
  <a class="Xr" href="../html5/ssh_config.html">ssh_config(5)</a>,
  <a class="Xr" href="../html8/mount.html">mount(8)</a>,
  <a class="Xr" href="../html8/sshd.html">sshd(8)</a>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
The <code class="Nm">mount_psshfs</code> utility first appeared in
  <span class="Ux">NetBSD 5.0</span>. It was inspired by FUSE sshfs.
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
Permissions are not handled. Do not expect the file system to behave except for
  a single user.
<p class="Pp">Depending on if the server supports the
    <a class="Xr" href="../html1/sftp.html">sftp(1)</a> statvfs protocol
    extension, free disk space may be displayed for the mount by
    <a class="Xr" href="../html1/df.html">df(1)</a>. This information reflects
    the status at the server's mountpoint and may differ for subdirectories
    under the mount root.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 7, 2010</td>
    <td class="foot-os">NetBSD 10.99</td>
  </tr>
</table>
</body>
</html>
